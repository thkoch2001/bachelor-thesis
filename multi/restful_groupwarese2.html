<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Requirements</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2 --> 
<meta name="src" content="restful_groupware.tex"> 
<meta name="date" content="2012-03-07 17:12:00"> 
<link rel="stylesheet" type="text/css" href="restful_groupware.css"> 
</head><body 
>
    <!--l. 424--><div class="crosslinks"><p class="noindent">[<a 
href="restful_groupwarese1.html" >prev</a>] [<a 
href="restful_groupwarese1.html#tailrestful_groupwarese1.html" >prev-tail</a>] [<a 
href="#tailrestful_groupwarese2.html">tail</a>] [<a 
href="restful_groupware.html# " >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">2  </span> <a 
 id="x20-90002"></a>Requirements</h3>
<a 
 id="x20-9001r4"></a>
<h4 class="subsectionHead"><span class="titlemark">2.1  </span> <a 
 id="x20-100001"></a>Scope and General Requirements</h4>
<!--l. 455--><p class="noindent" >The software system designed in this work should provide a web based interface for most common
interactions with a Groupware system like Kolab. It must obey the constraints of the REST
architectural style<span class="cite">[<a 
href="restful_groupwareli2.html#XFielding2000">Fie00</a>]</span>.
<!--l. 459--><p class="indent" >    Guidelines of the design are:
      <ul class="itemize1">
      <li class="itemize">The system should be extensible to support different kind of personal information
      resources like contacts, events, todo items, journal items and free-busy informations.
      </li>
      <li class="itemize">The CRUD operations must be supported: Create, Read, Update, Delete.
      </li>
      <li class="itemize">The client must be able to synchronize collections of resources for offline read access
      and manipulation.
      </li>
      <li class="itemize">The design should be considerably &#8220;easier&#8221; to implement then CalDAV, CardDAV or
      IMAP as well for the server as for the client.
      </li>
      <li class="itemize">The design should reuse existing standards where possible.
      </li>
      <li class="itemize">The design should support all client types listed in <a 
href="#x20-130004">subsection&#x00A0;2.4</a>.
      </li>
      <li class="itemize">The design should support different Media Type representations of resources.</li></ul>
<a 
 id="x20-10001r12"></a>
<h4 class="subsectionHead"><span class="titlemark">2.2  </span> <a 
 id="x20-110002"></a>Replacement for CardDAV</h4>
<!--l. 483--><p class="noindent" >The web application should provide at least the same features as the CardDAV protocol. It should
be demonstrated that a restful application can serve for the same purpose and thus that the
additional complexity of WebDAV and CardDAV is not necessary.
<!--l. 488--><p class="indent" >    The standard lists the supposed main features of CardDAV<span class="cite">[<a 
href="restful_groupwareli2.html#XRFC6352">Dab11</a>, sec. 1]</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x20-11002x1">Ability to use multiple address books with hierarchical layout.
      </li>
      <li 
  class="enumerate" id="x20-11004x2">Ability  to  control  access  to  individual  address  books  and  address  entries  as  per
      WebDAV Access Control List (ACL) [RFC3744].
      </li>
      <li 
  class="enumerate" id="x20-11006x3">Principal collections can be used to enumerate and query other users on the system as
      per WebDAV ACL [RFC3744].
      </li>
      <li 
  class="enumerate" id="x20-11008x4">Server-side searching of address data, avoiding the need for clients to download an
      entire address book in order to do a quick address &#8217;expansion&#8217; operation.
                                                                                         
                                                                                         
      </li>
      <li 
  class="enumerate" id="x20-11010x5">Well-defined internationalization support through WebDAV&#8217;s use of XML.
      </li>
      <li 
  class="enumerate" id="x20-11012x6">Use  of  vCards  [RFC2426]  for  well-defined  address  schema  to  enhance  client
      interoperability.
      </li>
      <li 
  class="enumerate" id="x20-11014x7">Many  limited  clients  (e.g.,  mobile  devices)  contain  an  HTTP  stack  that  makes
      implementing WebDAV much easier than other protocols.</li></ol>
<!--l. 506--><p class="indent" >    There are some minor features of CardDAV, that are mainly inherited from WebDAV and
whose general usefulness outside of the scope of a content management system could be argued.
See <a 
href="#x20-180009">subsection&#x00A0;2.9</a> for a discussion of those.
<a 
 id="x20-11015r13"></a>
<h4 class="subsectionHead"><span class="titlemark">2.3  </span> <a 
 id="x20-120003"></a>REST architectural style</h4>
<!--l. 513--><p class="noindent" >The requirement to obey the constraints of REST should cause the system to have some
characteristics that may be especially advantageous for the use case of a Groupware API. Those
characteristics are, according to <span class="cite">[<a 
href="restful_groupwareli2.html#XFielding2000">Fie00</a>]</span>:
      <ul class="itemize1">
      <li class="itemize">Cacheability (sec. 5.1.4) can keep the data available also in offline mode, improves
      performance and scalability.
      </li>
      <li class="itemize">Simplicity (sec. 2.3.3) helps to integrate the Groupware with other applications, e.g.
      publishing birthdays of employees in an intranet portal.
      </li>
      <li class="itemize">Modifiability (sec. 2.3.4) allows to adapt the Groupware to changes in the organization.
      </li>
      <li class="itemize">Reliability (sec. 2.3.7) can be of great importance, if the ability to work depends on
      the correct working of the Groupware system.
      </li>
      <li class="itemize">Anarchic  scalability  (sec.  4.1.4.1)  allows  a  Groupware  to  function  with  other
      components that are not under the control of the Groupware administrator.</li></ul>
<a 
 id="x20-12001r14"></a>
<h4 class="subsectionHead"><span class="titlemark">2.4  </span> <a 
 id="x20-130004"></a>User Classes and Characteristics</h4>
<!--l. 538--><p class="noindent" >Different kinds of clients should be able to use the API. <a 
href="#x20-130013">Table&#x00A0;3</a> lists clients whose
constraints and characteristics must be respected in the design. The choice of clients and
their characteristics is intentionally conservative to cover a wide range of real world use
cases.
    <div class="table">
                                                                                         
                                                                                         
<!--l. 544--><p class="indent" >    <a 
 id="x20-130013"></a><a 
 id="x29-21004r1"></a><a 
 id="x29-210001"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-4" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1"></colgroup><colgroup id="TBL-4-2g"><col 
id="TBL-4-2"></colgroup><colgroup id="TBL-4-3g"><col 
id="TBL-4-3"></colgroup><colgroup id="TBL-4-4g"><col 
id="TBL-4-4"></colgroup><colgroup id="TBL-4-5g"><col 
id="TBL-4-5"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="white-space:nowrap; text-align:right;" id="TBL-4-1-1"  
class="td11">                   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-1-2"  
class="td11">Memory</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-1-3"  
class="td11">Bandwidth</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-1-4"  
class="td11"> preferred format </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-5"  
class="td11">comment                   </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:nowrap; text-align:right;" id="TBL-4-2-1"  
class="td11">Web Browser (HTML5)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-2"  
class="td11"> 5 MB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-3"  
class="td11"> 56 kbit/s </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-4"  
class="td11">     JSON        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-5"  
class="td11">workplace, internet cafe</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:nowrap; text-align:right;" id="TBL-4-3-1"  
class="td11">        Mobile Device</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-2"  
class="td11">512 MB</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-3"  
class="td11"> 384 kbit/s </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-4"  
class="td11">   any/XML     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-5"  
class="td11">Smart Phone, Tabled   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:nowrap; text-align:right;" id="TBL-4-4-1"  
class="td11">   Desktop application</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-2"  
class="td11"> 1 GB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-3"  
class="td11"> 10 Mbit/s </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-4"  
class="td11">   any/XML     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-5"  
class="td11">PIM suite                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:nowrap; text-align:right;" id="TBL-4-5-1"  
class="td11">     Server application</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-2"  
class="td11"> 4 GB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-3"  
class="td11">100 Mbit/s</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-4"  
class="td11">any/XML/HTML</td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-5-5"  
class="td11">intranet application     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-6-"><td  style="white-space:nowrap; text-align:right;" id="TBL-4-6-1"  
class="td11">                    </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;3: </span><span  
class="content">Constraints of different API clients</span></div><!--tex4ht:label?: x20-130013 -->
                                                                                         
                                                                                         
    </div><hr class="endfloat" />
    </div>
<!--l. 557--><p class="indent" >    The most problematic client in the list is the web browser with only 5MB of storage capacity (via
WebStorage<span class="footnote-mark"><a 
href="restful_groupware21.html#fn17x0"><sup class="textsuperscript">17</sup></a></span><a 
 id="x20-13002f17"></a> )
a potentially very bad internet connection, the inability to leave data for later sessions (internet
cafe) and the restriction to one particular format (JSON). However this use case is of importance
as the OpenSocial&#x00A0;(&#x00A0;<a 
href="restful_groupwarese1.html#x3-70003">1.2.3<!--tex4ht:ref: sec:opensocial --></a>) case shows. It is also the primary use case to justify an API that
provides multiple Media Types since it mandates JSON while the canonical Media Types (xCard,
xCal) support XML.
<a 
 id="x20-13003r15"></a>
<h4 class="subsectionHead"><span class="titlemark">2.5  </span> <a 
 id="x20-140005"></a>Data Characteristics</h4>
<!--l. 570--><p class="noindent" >Lacking sources for more accurate numbers, a couple of conservative estimates are made for the
size and number of resources in the scope of this work. This guesswork is not perfect. But it
provides a rationale behind later design decisions (<a 
href="restful_groupwarese4.html#x44-330003">Listing&#x00A0;4.3<!--tex4ht:ref: sec:opensocial --></a>) and outlines their applicability for a
concrete use case.
<span 
class="cmssbx-10x-x-120">Contacts</span>&#x00A0;   It is believed that humans have regular social contacts to around 150
people<span class="footnote-mark"><a 
href="restful_groupware22.html#fn18x0"><sup class="textsuperscript">18</sup></a></span><a 
 id="x20-14001f18"></a> .
So the number of contacts in a users address book collection should at least handle 1500
contacts.
    The average textual data size associated to a contact is expected to be around 840
bytes<span class="footnote-mark"><a 
href="restful_groupware23.html#fn19x0"><sup class="textsuperscript">19</sup></a></span><a 
 id="x20-14002f19"></a> .
100 kb are enough for an image file to identify a face.
    So a collection with a data size of 1500<span 
class="cmmi-12">contacts</span><span 
class="cmsy-10x-x-120">* </span>840<img 
src="restful_groupware0x.png" alt="-bytes--
contact"  class="frac" align="middle"> <span 
class="cmsy-10x-x-120">&#x2248; </span>1<span 
class="cmmi-12">MB </span>should be a usable address
book without profile pictures for many users.
<span 
class="cmssbx-10x-x-120">Events</span>&#x00A0;   A very busy person may have 10 events per day. A two years calendar thus
contains 2 <span 
class="cmsy-10x-x-120">* </span>365 <span 
class="cmsy-10x-x-120">* </span>10 = 730 events. The core data of an event is estimated to comprise 356
bytes<span class="footnote-mark"><a 
href="restful_groupware24.html#fn20x0"><sup class="textsuperscript">20</sup></a></span><a 
 id="x20-14003f20"></a> . So
a useful calendar collection has a data size of 730<span 
class="cmmi-12">events </span><span 
class="cmsy-10x-x-120">* </span>356<img 
src="restful_groupware1x.png" alt="bytes
event"  class="frac" align="middle"> <span 
class="cmsy-10x-x-120">&#x2248; </span>0<span 
class="cmmi-12">.</span>25<span 
class="cmmi-12">MB</span>
<span 
class="cmssbx-10x-x-120">Conclusions</span>&#x00A0;   The size of full, useful collections of personal information items has the same order
of magnitude then the size of a digital image taken with today&#8217;s smart phones. With the worst case
bandwidth from <a 
href="#x20-130013">Table&#x00A0;3<!--tex4ht:ref: sec:opensocial --></a> the download of a full uncompressed collection lasts around
<img 
src="restful_groupware2x.png" alt="-2*1MB-
56kbit&#x2215;s"  class="frac" align="middle"> <span 
class="cmsy-10x-x-120">&#x2248; </span>5<span 
class="cmmi-12">min</span><span class="footnote-mark"><a 
href="restful_groupware25.html#fn21x0"><sup class="textsuperscript">21</sup></a></span><a 
 id="x20-14004f21"></a> .
Even with a drastic data compression of 90% the transfer would still last over 30 seconds. With the
next better bandwidth of the mobile device however the transfer duration for the uncompressed
case is already under one minute (<span 
class="cmsy-10x-x-120">&#x2248; </span>42<span 
class="cmmi-12">sec</span>).
    For all described clients the client&#8217;s storage is large enough to contain at least a few
collections.
                                                                                         
                                                                                         
<a 
 id="x20-14005r17"></a>
<h4 class="subsectionHead"><span class="titlemark">2.6  </span> <a 
 id="x20-150006"></a>Operation Environment</h4>
<!--l. 615--><p class="noindent" >The application is expected to be installed in a Java servlet container like Tomcat or Jetty and to
contact a separate storage component. The primarily targeted storage component is an IMAP
server with a Kolab conform set of groupware folders. However the design should not restrict
the extension to a document database like CouchDB, plain files, relational or XML
databases.
<a 
 id="x20-15001r18"></a>
<h4 class="subsectionHead"><span class="titlemark">2.7  </span> <a 
 id="x20-160007"></a>Design and Implementation Constraints</h4>
<a 
 id="x20-16001r19"></a>
<h4 class="subsectionHead"><span class="titlemark">2.8  </span> <a 
 id="x20-170008"></a>Specific Requirements</h4>
<a 
 id="x20-17001r1"></a>
<span 
class="cmssbx-10x-x-120">2.8.0.1  Nested and mixed collections</span>&#x00A0;   The design should not unnecessarily hinder that
collections could be nested or contain different kinds of media types, e.g. calendar items and
contacts.
    <span class="cite">[<a 
href="restful_groupwareli2.html#XRFC6352">Dab11</a>, sec. 5.2]</span> forbids nested and mixed collections to ease the implementation of clients.
However both may make sense in certain scenarios and the protocol should not exclude such
scenarios. A collection could for example represent all items related to a project, which include
contacts, events, todos and journal entries.
<a 
 id="x20-17002r20"></a>
<h4 class="subsectionHead"><span class="titlemark">2.9  </span> <a 
 id="x20-180009"></a>Excluded requirements</h4>
<a 
 id="x20-18001r2"></a>
<span 
class="cmssbx-10x-x-120">2.9.0.2  Search</span>&#x00A0;   It is not required that the server implements any means to search its data. It is
not excluded that such a facility could be added later. It is however expected that searching could
be implemented separately. This could be done either on a synchronizing client or as a separate
system in the same administrative domain as the server.
<a 
 id="x20-18002r3"></a>
<span 
class="cmssbx-10x-x-120">2.9.0.3  Performance optimization</span>&#x00A0;   The system is meant to inherit the benefits of a restful
architecture. It should therefor be possible to attach separate caching intermediaries for read
requests. Rather then concentrating on the performance of the implementation of read requests it
should be taken care that the architecture supports external caching and thus avoids to serve the
same read request multiple times.
<a 
 id="x20-18003r4"></a>
<span 
class="cmssbx-10x-x-120">2.9.0.4  Access Control</span>&#x00A0;   The aspect of access control would broaden the scope of this work to
wide. However it could be kept in mind, whether the proposed design could be enhanced by a
separate access control design as proposed in <span class="cite">[<a 
href="restful_groupwareli2.html#Xconf/rest/GrafZLW11">GZLW11</a>]</span>.
<a 
 id="x20-18004r5"></a>
<span 
class="cmssbx-10x-x-120">2.9.0.5  Copying and Moving</span>&#x00A0;   WebDAV introduces the HTTP verbs to COPY and MOVE. The
usefulness of such functionality must of course be compared to the complexity of the
implementation and the drawback of incompatibility to plain HTTP.
    It is possible to enhance a restful API with copy and move functionality without extending
HTTP. The only requirement is that additional hyperlinks can be attached to the resources of the
API. Allamaraju <span class="cite">[<a 
href="restful_groupwareli2.html#XAllamaraju_2010">All10</a>, Ch. 11]</span> proposes &#8220;controller resources&#8221; that act on POST requests and
                                                                                         
                                                                                         
are linked from the resources they act on. Custom link relations are used to indicate the semantic
of the controller resource.
    This work does not include initial support for copy or move.
<a 
 id="x20-18005r6"></a>
<span 
class="cmssbx-10x-x-120">2.9.0.6  Versioning</span>&#x00A0;   WebDAV and therefor CalDAV and CardDAV support the versioning of
resources as an extension to the HTTP protocol. Versioning is an important feature for a text
authoring system that may have been the main target for the WebDAV protocol. It does however
seem to be of little use for the resources considered here. The resources are mostly created in one
session by one user and seldom modified.
<a 
 id="x20-18006r7"></a>
<span 
class="cmssbx-10x-x-120">2.9.0.7  Make Collections</span>&#x00A0;   WebDAV introduces the MKCOL HTTP verb to create collections.
CardDAV recommends that implementations support this to allow users to &#8220;organize their data
better&#8221;. An alternative would be to make use of ATOM categories for grouping. Instead of creating
a new (empty) collection the user would thus create a contact resource with a new category. An
ATOM service document could then link to a new (virtual, read-only) collection that only contains
resources of this category.
    The Atom Publishing Protocol does not define how collection resources could be created. Practitioners
recommend a pattern wherein collections of collections exist and new collections can be created by posting
to the former<span class="footnote-mark"><a 
href="restful_groupware26.html#fn22x0"><sup class="textsuperscript">22</sup></a></span><a 
 id="x20-18007f22"></a> .
<a 
 id="x20-18008r8"></a>
<span 
class="cmssbx-10x-x-120">2.9.0.8  Locking</span>&#x00A0;   As with Versioning, this is feature of WebDAV is not considered. Instead of
locking a resource HTTP supports conditional updates and leaves conflict resolution to the
client.
    <span class="cite">[<a 
href="restful_groupwareli2.html#XNielsen1999">NL99</a>, sec. 1]</span> provides three questions to help deciding whether a protocol should support
locking and which in the present case advise against locking: <span 
class="cmti-12">The content is mergeable </span>in contrast
to binary data like images. <span 
class="cmti-12">The editing is expected to be localized to isolated points in the document</span>,
e.g. changing just one field in a content or event. And <span 
class="cmti-12">the content can be edited while the user is</span>
<span 
class="cmti-12">offline</span>.
<a 
 id="x20-18009r9"></a>
<span 
class="cmssbx-10x-x-120">2.9.0.9  Push notifications</span>&#x00A0;   This work does not include any means to actively
notify (push) a client about changes happening on the server. The client needs to
initiate a request (pull) to the server to look for changes. However separate solutions
exist<span class="footnote-mark"><a 
href="restful_groupware27.html#fn23x0"><sup class="textsuperscript">23</sup></a></span><a 
 id="x20-18010f23"></a> 
to enable a push workflow on top of a feed based application<span class="cite">[<a 
href="restful_groupwareli2.html#XWilde:2009:FQP:1693155.1693220">WM09</a>]</span>. It
may therefor not be seen as a disadvantage to omit push notifications as a
requirement.<span class="footnote-mark"><a 
href="restful_groupware28.html#fn24x0"><sup class="textsuperscript">24</sup></a></span><a 
 id="x20-18011f24"></a> 
    &#x00A0;
                                                                                         
                                                                                         
    <!--l. 717--><div class="crosslinks"><p class="noindent">[<a 
href="restful_groupwarese1.html" >prev</a>] [<a 
href="restful_groupwarese1.html#tailrestful_groupwarese1.html" >prev-tail</a>] [<a 
href="restful_groupwarese2.html" >front</a>] [<a 
href="restful_groupware.html# " >up</a>] </p></div>
    <a 
 id="tailrestful_groupwarese2.html"></a> 
</body></html> 
